<!DOCTYPE html>
<!-- Coding by CodingLab | www.codinglabweb.com-->
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MovieeTV - Noticias</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./styles/navbar.css">
    <link rel="stylesheet" href="./styles/footer.css">
    <link rel="stylesheet" href="./styles/noticias.css">

    <!-- Unicons CSS -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
    <script src="script.js" defer></script>
    <script src="noticias.js" defer></script>
</head>

<body>
    <!-- Navbar -->
    <header>
        <nav class="nav">
            <i class="uil uil-bars navOpenBtn"></i>
            <a href="index.html" class="logo">MovieeTV</a>

            <ul class="nav-links">
                <i class="uil uil-times navCloseBtn"></i>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="filmes.html">Filmes</a></li>
                <li><a href="noticias.html">Notícias</a></li>
                <li><a href="contato.html">Contato</a></li>
            </ul>

            <i class="uil uil-search search-icon" id="searchIcon"></i>
            <div class="search-box">
                <i class="uil uil-search search-icon"></i>
                <input type="text" placeholder="Search here..." />
            </div>
        </nav>
    </header>
    <main>
        <section>
          <div id="conteudo">
            <h1>Notícias populares</h1>
            <div id="noticias1" class="noticias">
              
              <h2>FORREST 2</h2>
              <p>Depois de quase 30 anos desde o <br>lançamento de "Forrest Gump", o <br>diretor Robert Zemeckis anunciou <br>que está trabalhando em uma <br>sequência do filme intitulada <br>"Forrest Gump 2: A Nova Jornada". <br>A notícia pegou todos de surpresa, <br>já que tanto Zemeckis quanto <br>Tom Hanks, que interpretou o <br>personagem principal, haviam <br>declarado anteriormente que não <br>estavam interessados em fazer <br>uma sequência.</p>
            </div>
            <div id="noticias2" class="noticias">
              <h2>SPIDER-MAN</h2>
              <p ">A Sony Pictures anunciou oficialmente <br>que está trabalhando em um novo <br>filme do Homem-Aranha, que será <br>intitulado "Homem-Aranha: <br>Nova Geração". O filme apresentará um<br> novo herói vestindo a máscara do <br>Homem-Aranha, interpretado pelo <br>jovem ator britânico Tom Holland.</p>
           </div>
            <div id="noticias3" class="noticias">
              <h2>Harry Potter</h2>
              <p>A editora Bloomsbury anunciou <br>que  está trabalhando em uma <br>nova edição ilustrada de<br> "Harry Potter e a Pedra Filosofal" <br>o primeiro livro da série de J.K. Rowling. <br>A nova edição será lançada em <br>comemoração aos 25 anos desde a <br>publicação do livro original e <br>apresentará ilustrações <br>inéditas do artista Jim Kay.</p>
         
            </div>
          
            <div id="noticias4" class="noticias">
              <h2 >VINGADORES</h2>
              <p >Após o sucesso do último filme dos <br>Vingadores, "Vingadores: Ultimato", <br> a Marvel Studios anunciou que está <br>trabalhando em uma nova equipe <br>de super-heróis para enfrentar<br> ameaças cósmicas ainda maiores. </p>
                </div>
            <div id="botoes">
              <button id="prev" class="response">
                <p>Anterior</p>
              </button>
              <button id="next">
                <p>Próximo</p>
              </button>
            </div>
          </div>
        </section>
      </main>
      <script>

var xhr1 = new XMLHttpRequest();
  var xhr2 = new XMLHttpRequest();
  var xhr3 = new XMLHttpRequest();
  var xhr4 = new XMLHttpRequest();
  var filme1 = 13;
  var filme2 = 634649;
  var filme3 = 671;
  var filme4 = 299534;
  
  xhr1.onload = function() {
      if (xhr1.status === 200) {
        var blob = new Blob([xhr1.response], { type: 'image/png' });
        var imgUrl = URL.createObjectURL(blob);

        var noticiasDivs = document.querySelectorAll('#noticias1');
        for (var i = 0; i < noticiasDivs.length; i++) {
          var img = document.createElement("img");
          img.src = imgUrl;
          noticiasDivs[i].appendChild(img);
        }

        // Chama a segunda requisição após a primeira ser concluída
        xhr2.open('GET', 'https://loyal-root-production.up.railway.app/api/v2/movies/' + filme2.toString() + '/w400/poster', true);
        xhr2.responseType = 'arraybuffer';
        xhr2.send();
      } else {
        console.error('Erro ao carregar imagem');
      }
    };

  xhr2.onload = function() {
      if (xhr2.status === 200) {
        var blob = new Blob([xhr2.response], { type: 'image/png' });
        var imgUrl = URL.createObjectURL(blob);

        var noticiasDivs = document.querySelectorAll('#noticias2');
        for (var i = 0; i < noticiasDivs.length; i++) {
          var img = document.createElement("img");
          img.src = imgUrl;
          noticiasDivs[i].appendChild(img);
        }
      } else {
        console.error('Erro ao carregar imagem');
      }
    };

  xhr1.open('GET', 'https://loyal-root-production.up.railway.app/api/v2/movies/' + filme1.toString() + '/w400/poster', true);
  xhr1.responseType = 'arraybuffer';
  xhr1.send();

  xhr3.onload = function() {
      if (xhr3.status === 200) {
        var blob = new Blob([xhr3.response], { type: 'image/png' });
        var imgUrl = URL.createObjectURL(blob);

        var noticiasDivs = document.querySelectorAll('#noticias3');
        for (var i = 0; i < noticiasDivs.length; i++) {
          var img = document.createElement("img");
          img.src = imgUrl;
          noticiasDivs[i].appendChild(img);
        }
      } else {
        console.error('Erro ao carregar imagem');
      }
    };

  xhr4.open('GET', 'https://loyal-root-production.up.railway.app/api/v2/movies/' + filme4.toString() + '/w400/poster', true);
  xhr4.responseType = 'arraybuffer';
  xhr4.send();

  xhr4.onload = function() {
      if (xhr4.status === 200) {
        var blob = new Blob([xhr4.response], { type: 'image/png' });
        var imgUrl = URL.createObjectURL(blob);

        var noticiasDivs = document.querySelectorAll('#noticias4');
        for (var i = 0; i < noticiasDivs.length; i++) {
          var img = document.createElement("img");
          img.src = imgUrl;
          noticiasDivs[i].appendChild(img);
        }
      } else {
        console.error('Erro ao carregar imagem');
      }
    };

  xhr3.open('GET', 'https://loyal-root-production.up.railway.app/api/v2/movies/' + filme3.toString() + '/w400/poster', true);
  xhr3.responseType = 'arraybuffer';
  xhr3.send();
      </script>


    <footer>
        <div class="footer-container ">
            <div class="row-footer">
                <!-- Footer col-->
                <div class="col-footer">
                    <ul>
                        <li>
                            <h4>Empresa</h4>
                        </li>
                        <li><a href="">Quem somos</a></li>
                        <li><a href="">Contato</a></li>
                        <li><a href="">Nossos serviço</a></li>
                        <li><a href="">Politica de privacidade</a></li>
                    </ul>
                </div>
                <!-- Footer col-->
                <!-- Footer col-->
                <div class="col-footer">
                    <ul>
                        <li>
                            <h4>Filmes</h4>
                        </li>
                        <li><a href="">Ação</a></li>
                        <li><a href="">Aventura</a></li>
                        <li><a href="">Suspense</a></li>
                        <li><a href="">Romance</a></li>
                    </ul>
                </div>
                <!-- Footer col-->
                <div class="col-footer">
                    <ul>
                        <li>
                            <h4>Plataforma</h4>
                        </li>
                        <li><a href="">Netflix</a></li>
                        <li><a href="">Amazon</a></li>
                        <li><a href="">Disney PLUS</a></li>
                        <li><a href="">Star +</a></li>
                    </ul>
                </div>

                <div class="logo-footer">
                    <h3>MovieeTV</h3>
                    <a href="#"></a>
                    <a href="#"><img src="./imgs/icons8-instagram (1).svg" alt=""></a>
                    <a href="#"><img src="./imgs/icons8-facebook (1).svg" alt=""></a>
                </div>
            </div>
    </footer>
</body>

</html>